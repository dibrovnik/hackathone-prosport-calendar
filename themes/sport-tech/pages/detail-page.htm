url = "/event/:id"
layout = "default"
title = "Мероприятие"
description = "Детальная страница мероприятия"
hidden = 0

[detailPage]
id = "{{ :id }}"

==
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<main>
    <div class="wrapper">
        <div class="event">
            <!-- Кнопка возврата -->
            <a href="/" class="event__back-button">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_7_2317)">
                        <path
                            d="M4.87773 18.3939L0.958725 14.4749C0.32235 13.808 -0.0327072 12.9217 -0.0327072 11.9999C-0.0327072 11.0781 0.32235 10.1918 0.958725 9.52489L4.87773 5.60589C5.15899 5.32449 5.54051 5.16635 5.93837 5.16626C6.33623 5.16617 6.71783 5.32413 6.99923 5.60539C7.28062 5.88665 7.43876 6.26818 7.43885 6.66603C7.43895 7.06389 7.28099 7.44549 6.99973 7.72689L4.21972 10.5079L22.4697 10.5309C22.8676 10.5309 23.2491 10.6889 23.5304 10.9702C23.8117 11.2515 23.9697 11.6331 23.9697 12.0309C23.9697 12.4287 23.8117 12.8102 23.5304 13.0916C23.2491 13.3729 22.8676 13.5309 22.4697 13.5309L4.23873 13.5079L6.99973 16.2729C7.27296 16.5558 7.42415 16.9347 7.42074 17.328C7.41732 17.7213 7.25957 18.0975 6.98145 18.3756C6.70334 18.6537 6.32712 18.8115 5.93383 18.8149C5.54053 18.8183 5.16163 18.6671 4.87873 18.3939H4.87773Z"
                            fill="#1E88E5" />
                    </g>
                    <defs>
                        <clipPath id="clip0_7_2317">
                            <rect width="24" height="24" fill="white" transform="matrix(-1 0 0 1 24 0)" />
                        </clipPath>
                    </defs>
                </svg>
                Вернуться к общему списку
            </a>


            <!-- Информация о мероприятии -->
            <div class="event__block mb-5">
                <div class="event__item">
                    <p class="event__title">{{ detailPage.event.name }}</p>
                    <div class="event__descr">

                        <p><strong>Вид спорта:</strong> {{ detailPage.event.disciplines[0].sport.name }}</p>
                        <p><strong>Дата:</strong> {{ detailPage.event.start_date }} - {{ detailPage.event.end_date }}
                        </p>
                        <p><strong>Локация:</strong> {{ detailPage.event.location }}, {{ detailPage.event.country }}</p>
                        <p><strong>Участники:</strong> {{ detailPage.event.participants_count }}</p>

                        <h2>Дисциплины</h2>
                        <ul>
                            {% for discipline in detailPage.event.disciplines %}
                            <li>{{ discipline.name }}</li>
                            {% else %}
                            <li>Нет дисциплин</li>
                            {% endfor %}
                        </ul>
                    </div>

                </div>
                <!-- <div class="chase">
                    <button id="subscribeButton" class="chase__link fs-16" data-request="onSubscribeEvent"
                        data-request-data="event_code: '{{ detailPage.event.code }}'"
                        data-request-success="alert('Вы успешно подписались на мероприятие!');">
                        Отслеживать
                        <svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_7_2333)">
                                <path
                                    d="M20.9999 13.5001C20.4117 13.5006 19.8368 13.6745 19.3469 14.0001L18.3279 13.4911C18.5837 12.4066 18.5563 11.2745 18.2485 10.2036C17.9406 9.13264 17.3627 8.15883 16.57 7.37564C15.7774 6.59245 14.7967 6.02618 13.7222 5.73119C12.6477 5.4362 11.5153 5.4224 10.4339 5.69112L9.83393 4.61012C10.1876 4.05265 10.3475 3.39407 10.2889 2.73647C10.2303 2.07888 9.95634 1.45899 9.50959 0.97289C9.06284 0.486795 8.46821 0.161645 7.81789 0.0478402C7.16756 -0.0659642 6.49786 0.0379335 5.91258 0.343428C5.32731 0.648923 4.85915 1.13895 4.58068 1.73756C4.30221 2.33616 4.22898 3.00991 4.37234 3.65437C4.5157 4.29882 4.86764 4.87799 5.37362 5.30209C5.87959 5.7262 6.51134 5.97155 7.17093 6.00012L7.77093 7.07412C6.60189 8.07598 5.82709 9.4608 5.58492 10.9812C5.34275 12.5017 5.64899 14.0587 6.44893 15.3741L3.63993 18.0691C2.99523 17.9281 2.32204 18.0037 1.72462 18.284C1.1272 18.5643 0.638881 19.0338 0.335301 19.6198C0.0317218 20.2058 -0.0701793 20.8755 0.0453808 21.5252C0.160941 22.1749 0.487513 22.7684 0.974518 23.2138C1.46152 23.6591 2.08178 23.9314 2.73923 23.9886C3.39668 24.0457 4.05463 23.8845 4.61117 23.5299C5.16771 23.1753 5.59179 22.647 5.81773 22.027C6.04367 21.4069 6.05885 20.7297 5.86093 20.1001L8.55393 17.5141C9.8835 18.3475 11.47 18.6709 13.0197 18.4246C14.5694 18.1782 15.9773 17.3787 16.9829 16.1741L18.0059 16.6851C18.042 17.2695 18.2483 17.8305 18.5994 18.299C18.9505 18.7676 19.431 19.1232 19.9817 19.3219C20.5324 19.5207 21.1292 19.554 21.6986 19.4177C22.268 19.2814 22.7851 18.9815 23.1861 18.5549C23.5871 18.1283 23.8545 17.5937 23.9554 17.017C24.0562 16.4403 23.9861 15.8466 23.7537 15.3093C23.5213 14.7719 23.1368 14.3143 22.6474 13.9928C22.1581 13.6713 21.5854 13.5001 20.9999 13.5001ZM11.9999 15.5001C11.3077 15.5001 10.631 15.2949 10.0554 14.9103C9.47986 14.5257 9.03125 13.9791 8.76635 13.3395C8.50144 12.7 8.43213 11.9962 8.56718 11.3173C8.70223 10.6384 9.03557 10.0147 9.52505 9.52525C10.0145 9.03577 10.6382 8.70242 11.3171 8.56737C11.996 8.43233 12.6998 8.50164 13.3393 8.76654C13.9789 9.03145 14.5255 9.48005 14.9101 10.0556C15.2947 10.6312 15.4999 11.3079 15.4999 12.0001C15.4999 12.9284 15.1312 13.8186 14.4748 14.475C13.8184 15.1314 12.9282 15.5001 11.9999 15.5001Z"
                                    fill="white" />
                            </g>
                            <defs>
                                <clipPath id="clip0_7_2333">
                                    <rect width="24" height="24" fill="white" />
                                </clipPath>
                            </defs>
                        </svg>
                    </button>
                </div> -->

                {% if isSubscribedToEvent %}
                <button id="subscribeButton" class="chase__link fs-16" data-request="onUnsubscribeEvent"
                    data-request-data="event_code: '{{ detailPage.event.code }}'"
                    data-request-success="window.location.reload();">
                    Отписаться
                    <svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_7_2333)">
                            <path
                                d="M20.9999 13.5001C20.4117 13.5006 19.8368 13.6745 19.3469 14.0001L18.3279 13.4911C18.5837 12.4066 18.5563 11.2745 18.2485 10.2036C17.9406 9.13264 17.3627 8.15883 16.57 7.37564C15.7774 6.59245 14.7967 6.02618 13.7222 5.73119C12.6477 5.4362 11.5153 5.4224 10.4339 5.69112L9.83393 4.61012C10.1876 4.05265 10.3475 3.39407 10.2889 2.73647C10.2303 2.07888 9.95634 1.45899 9.50959 0.97289C9.06284 0.486795 8.46821 0.161645 7.81789 0.0478402C7.16756 -0.0659642 6.49786 0.0379335 5.91258 0.343428C5.32731 0.648923 4.85915 1.13895 4.58068 1.73756C4.30221 2.33616 4.22898 3.00991 4.37234 3.65437C4.5157 4.29882 4.86764 4.87799 5.37362 5.30209C5.87959 5.7262 6.51134 5.97155 7.17093 6.00012L7.77093 7.07412C6.60189 8.07598 5.82709 9.4608 5.58492 10.9812C5.34275 12.5017 5.64899 14.0587 6.44893 15.3741L3.63993 18.0691C2.99523 17.9281 2.32204 18.0037 1.72462 18.284C1.1272 18.5643 0.638881 19.0338 0.335301 19.6198C0.0317218 20.2058 -0.0701793 20.8755 0.0453808 21.5252C0.160941 22.1749 0.487513 22.7684 0.974518 23.2138C1.46152 23.6591 2.08178 23.9314 2.73923 23.9886C3.39668 24.0457 4.05463 23.8845 4.61117 23.5299C5.16771 23.1753 5.59179 22.647 5.81773 22.027C6.04367 21.4069 6.05885 20.7297 5.86093 20.1001L8.55393 17.5141C9.8835 18.3475 11.47 18.6709 13.0197 18.4246C14.5694 18.1782 15.9773 17.3787 16.9829 16.1741L18.0059 16.6851C18.042 17.2695 18.2483 17.8305 18.5994 18.299C18.9505 18.7676 19.431 19.1232 19.9817 19.3219C20.5324 19.5207 21.1292 19.554 21.6986 19.4177C22.268 19.2814 22.7851 18.9815 23.1861 18.5549C23.5871 18.1283 23.8545 17.5937 23.9554 17.017C24.0562 16.4403 23.9861 15.8466 23.7537 15.3093C23.5213 14.7719 23.1368 14.3143 22.6474 13.9928C22.1581 13.6713 21.5854 13.5001 20.9999 13.5001ZM11.9999 15.5001C11.3077 15.5001 10.631 15.2949 10.0554 14.9103C9.47986 14.5257 9.03125 13.9791 8.76635 13.3395C8.50144 12.7 8.43213 11.9962 8.56718 11.3173C8.70223 10.6384 9.03557 10.0147 9.52505 9.52525C10.0145 9.03577 10.6382 8.70242 11.3171 8.56737C11.996 8.43233 12.6998 8.50164 13.3393 8.76654C13.9789 9.03145 14.5255 9.48005 14.9101 10.0556C15.2947 10.6312 15.4999 11.3079 15.4999 12.0001C15.4999 12.9284 15.1312 13.8186 14.4748 14.475C13.8184 15.1314 12.9282 15.5001 11.9999 15.5001Z"
                                fill="white" />
                        </g>
                        <defs>
                            <clipPath id="clip0_7_2333">
                                <rect width="24" height="24" fill="white" />
                            </clipPath>
                        </defs>
                    </svg>
                </button>
                {% else %}
                <button id="subscribeButton" class="chase__link fs-16" data-request="onSubscribeEvent"
                    data-request-data="event_code: '{{ detailPage.event.code }}'"
                    data-request-success="window.location.reload();">
                    Отслеживать
                    <svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_7_2333)">
                            <path
                                d="M20.9999 13.5001C20.4117 13.5006 19.8368 13.6745 19.3469 14.0001L18.3279 13.4911C18.5837 12.4066 18.5563 11.2745 18.2485 10.2036C17.9406 9.13264 17.3627 8.15883 16.57 7.37564C15.7774 6.59245 14.7967 6.02618 13.7222 5.73119C12.6477 5.4362 11.5153 5.4224 10.4339 5.69112L9.83393 4.61012C10.1876 4.05265 10.3475 3.39407 10.2889 2.73647C10.2303 2.07888 9.95634 1.45899 9.50959 0.97289C9.06284 0.486795 8.46821 0.161645 7.81789 0.0478402C7.16756 -0.0659642 6.49786 0.0379335 5.91258 0.343428C5.32731 0.648923 4.85915 1.13895 4.58068 1.73756C4.30221 2.33616 4.22898 3.00991 4.37234 3.65437C4.5157 4.29882 4.86764 4.87799 5.37362 5.30209C5.87959 5.7262 6.51134 5.97155 7.17093 6.00012L7.77093 7.07412C6.60189 8.07598 5.82709 9.4608 5.58492 10.9812C5.34275 12.5017 5.64899 14.0587 6.44893 15.3741L3.63993 18.0691C2.99523 17.9281 2.32204 18.0037 1.72462 18.284C1.1272 18.5643 0.638881 19.0338 0.335301 19.6198C0.0317218 20.2058 -0.0701793 20.8755 0.0453808 21.5252C0.160941 22.1749 0.487513 22.7684 0.974518 23.2138C1.46152 23.6591 2.08178 23.9314 2.73923 23.9886C3.39668 24.0457 4.05463 23.8845 4.61117 23.5299C5.16771 23.1753 5.59179 22.647 5.81773 22.027C6.04367 21.4069 6.05885 20.7297 5.86093 20.1001L8.55393 17.5141C9.8835 18.3475 11.47 18.6709 13.0197 18.4246C14.5694 18.1782 15.9773 17.3787 16.9829 16.1741L18.0059 16.6851C18.042 17.2695 18.2483 17.8305 18.5994 18.299C18.9505 18.7676 19.431 19.1232 19.9817 19.3219C20.5324 19.5207 21.1292 19.554 21.6986 19.4177C22.268 19.2814 22.7851 18.9815 23.1861 18.5549C23.5871 18.1283 23.8545 17.5937 23.9554 17.017C24.0562 16.4403 23.9861 15.8466 23.7537 15.3093C23.5213 14.7719 23.1368 14.3143 22.6474 13.9928C22.1581 13.6713 21.5854 13.5001 20.9999 13.5001ZM11.9999 15.5001C11.3077 15.5001 10.631 15.2949 10.0554 14.9103C9.47986 14.5257 9.03125 13.9791 8.76635 13.3395C8.50144 12.7 8.43213 11.9962 8.56718 11.3173C8.70223 10.6384 9.03557 10.0147 9.52505 9.52525C10.0145 9.03577 10.6382 8.70242 11.3171 8.56737C11.996 8.43233 12.6998 8.50164 13.3393 8.76654C13.9789 9.03145 14.5255 9.48005 14.9101 10.0556C15.2947 10.6312 15.4999 11.3079 15.4999 12.0001C15.4999 12.9284 15.1312 13.8186 14.4748 14.475C13.8184 15.1314 12.9282 15.5001 11.9999 15.5001Z"
                                fill="white" />
                        </g>
                        <defs>
                            <clipPath id="clip0_7_2333">
                                <rect width="24" height="24" fill="white" />
                            </clipPath>
                        </defs>
                    </svg>
                </button>
                {% endif %}


            </div>
        </div>
    </div>
</main>